// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package main

import (
	"context"
	"log/slog"

	"github.com/onkernel/hypeman/cmd/api/api"
	"github.com/onkernel/hypeman/cmd/api/config"
	"github.com/onkernel/hypeman/lib/devices"
	"github.com/onkernel/hypeman/lib/images"
	"github.com/onkernel/hypeman/lib/ingress"
	"github.com/onkernel/hypeman/lib/instances"
	"github.com/onkernel/hypeman/lib/network"
	"github.com/onkernel/hypeman/lib/providers"
	"github.com/onkernel/hypeman/lib/registry"
	"github.com/onkernel/hypeman/lib/system"
	"github.com/onkernel/hypeman/lib/volumes"

	_ "embed"
)

// Injectors from wire.go:

// initializeApp is the injector function
func initializeApp() (*application, func(), error) {
	config := providers.ProvideConfig()
	paths := providers.ProvidePaths(config)
	logger := providers.ProvideLogger(paths)
	context := providers.ProvideContext(logger)
	manager, err := providers.ProvideImageManager(paths, config)
	if err != nil {
		return nil, nil, err
	}
	systemManager := providers.ProvideSystemManager(paths)
	networkManager := providers.ProvideNetworkManager(paths, config)
	devicesManager := providers.ProvideDeviceManager(paths)
	volumesManager, err := providers.ProvideVolumeManager(paths, config)
	if err != nil {
		return nil, nil, err
	}
	instancesManager, err := providers.ProvideInstanceManager(paths, config, manager, systemManager, networkManager, devicesManager, volumesManager)
	if err != nil {
		return nil, nil, err
	}
	ingressManager, err := providers.ProvideIngressManager(paths, config, instancesManager)
	if err != nil {
		return nil, nil, err
	}
	registry, err := providers.ProvideRegistry(paths, manager)
	if err != nil {
		return nil, nil, err
	}
	apiService := api.New(config, manager, instancesManager, volumesManager, networkManager, devicesManager, ingressManager)
	mainApplication := &application{
		Ctx:             context,
		Logger:          logger,
		Config:          config,
		ImageManager:    manager,
		SystemManager:   systemManager,
		NetworkManager:  networkManager,
		DeviceManager:   devicesManager,
		InstanceManager: instancesManager,
		VolumeManager:   volumesManager,
		IngressManager:  ingressManager,
		Registry:        registry,
		ApiService:      apiService,
	}
	return mainApplication, func() {
	}, nil
}

// wire.go:

// application struct to hold initialized components
type application struct {
	Ctx             context.Context
	Logger          *slog.Logger
	Config          *config.Config
	ImageManager    images.Manager
	SystemManager   system.Manager
	NetworkManager  network.Manager
	DeviceManager   devices.Manager
	InstanceManager instances.Manager
	VolumeManager   volumes.Manager
	IngressManager  ingress.Manager
	Registry        *registry.Registry
	ApiService      *api.ApiService
}
